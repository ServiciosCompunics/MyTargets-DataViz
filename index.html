<!DOCTYPE html>
<html>
  <head>
    <link  href="./dist/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
    <script src='./dist/sql-wasm.js'></script>
    <script src="./dist/vis.min.js"></script>
    <script src="./dist/jquery.min.js"> </script>
    <script src="./dist/chart.umd.min.js"> </script>
    <script type="module" src="./dataviz.js"></script>
    <script type="text/javascript">
      function setColor(score){
        if( score < 3 || score > 5) return 'black';
        return 'white';
      };
      function showTrefferBild(x,y) {
        var shots = [];
        for( let i=0; i < x.length; i++) {
          shots.push([ { 'x': x[i], 'y': y[i], }, ]);
        }

        const data = {
          labels: shots.map(row => row.x),
          datasets: [{
            data: shots.map( row => ({
              x: row.width,
              y: row.height,
              r: row.count
            }))
          }]
        };

        // config 
        const config = {
          type: 'bubble',
          data,
          options: {
            aspectRatio: 1,
            scales: {
              x: { max: 50 },
              y: { max: 50 },
            }
          }
        };

        // draw TrefferBild Chart
        new Chart( document.getElementById('TrefferBild'), config );
      };
    </script>

    <style type="text/css">
     #timeline {
       position: relative;
       top: 30px;
       width: 100%;
       height: 20%;
     }
     #rundenInfo {
       position: absolute;
       right: 0px;
       width: 30%;
       height: 20%;
       overflow: auto;
     }
     #passeInfo {
       position: relative;
       right: 0px;
       width: 100%;
       height: 10%;
       overflow: auto;
     }
     #TrefferBild {
       position: absolute;
       display: inline-block;
       top: 300px;
       width: 'inherit';
       height: 'inherit';
     }
     .menu {
       position: absolute;
       top: 0;
       left: 0;
       margin: 8px;
       z-index: 9999;
     }
    .vis-item {
     background-color: #ffffff;
     border-color: #000000;
     color: #000000;
     font-family: DejaVu Sans;
     font-size: 11px;
     font-weight: normal;
    }
    .vis-item.vis-selected {
     background-color: #b4b4b4;
     border-color: #000000;
     color: #000000;
     font-family: Arial;
     font-size: 14px;
     font-weight: normal;
    }
    .vis-time-axis .vis-text {
     font-family: DejaVu Sans;
     color: #000000;
     font-size: 12px;		
     font-weight: normal;
    }
    .vis-timeline.vis-bottom {
     border-style: none;
    }
    </style>
  </head>
  <body>
    <div class="menu">
      <input type="button" id="zoomIn"    value="Zoom in"/>
      <input type="button" id="zoomOut"   value="Zoom out"/>
      <input type="button" id="moveLeft"  value="Zur&uuml;ck"/>
      <input type="button" id="moveRight" value="Vorw&auml;rts"/>
      <select id="selLocation">   <option value="">Ort</option></select>
      <select id="selDistance">   <option value="">Distanz</option></select>
      <select id="selBow">        <option value="">Bogen</option></select>
    </div>
    <div    id="timeline"></div>
    <div    style='position:relative; left:0px;'><canvas id='trainingGraph' width='100vH' height='20vH'></canvas></div>
    <div    style='position:relative; left:0px;'><canvas id='rundenGraph'   width='70vH'  height='20vH'></canvas></div>
    <div    id="rundenInfo" style='position:absolute; right:0px; overflow:auto;'></div>
    <div    id="passeInfo"></div>
    <div    style='position:relative: left:0px;'><canvas id="TrefferBild"></canvas></div>
    <div    style='position:absolute; left:0px;'><canvas id="shotGraph"     width='100vH' height='20vH'></canvas></div>
  </body>
</html>
