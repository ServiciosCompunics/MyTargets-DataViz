<!DOCTYPE html>
<html>
  <head>
    <link  href="./dist/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
    <script src="./dist/sql-wasm.js"></script>
    <script src="./dist/vis.min.js"></script>
    <script src="./dist/jquery.min.js"> </script>
    <script src="./dist/chart.umd.min.js"> </script>
    <script type="module" src="./dataviz.js"></script>
    <script type="text/javascript">
      var TrefferChart = null;
      function setColor(score){
        if( score < 3 || score > 5) return 'black';
        return 'white';
      };
      function showTrefferBild(x,y) {
        var schuss = [];
        for( let i=0; i < x.length; i++) {
          schuss.push( { x: x[i], y: y[i], r: 5 }, );
        }

        const data = {
          datasets: [{
            data: schuss,
          }]
        };

        // config 
        const config = {
          type: 'bubble',
          data,
          options: {
            plugins: {
            legend: {display: false},
              title: {
                display: true,
                text: "Trefferbild"
              }
            },
            aspectRatio: 1,
            scales: {
              x: { display: false, min: -2, max: 2 },
              y: { display: false, min: -2, max: 2 },
            }
          }
        };

        // draw TrefferBild Chart
        var myWindow = window.open("", "", "toolbar=no,scrollbars=yes,resizable=no,top=300,left=300,width=600,height=600"); 
        if( TrefferChart ){ TrefferChart.destroy(); }
        TrefferChart = new Chart( myWindow.document.getElementById('TrefferBild'), config );
      };
    </script>

    <style type="text/css">
     #menu {
       position: absolute;
       top: 0px;
       left: 0px;
       margin: 8px;
       z-index: 9999;
     }
     #timeline {
       position:relative;
       top: 30px;
       width: 100%;
       height: 100px;
     }
     #trainingGraphD {
       position:relative;
       left: 0px;
       width: 100%;
       height: 300px;
     }
     #rundenInfoD {
       position:relative;
       width: 100%;
       height: 200px;
       overflow:auto;
     }
     #rundenGraphD {
       position:absolute;
       left: 0px;
       width: 70%;
     }
     #rundenInfo {
       position:absolute;
       width: 30%;
       right: 0px;
       overflow:auto;
     }
     #passeInfo {
       position:absolute;
       left: 0px;
       width: 60%;
       overflow:auto;
     }
     #TrefferBildD {
       position:absolute;
       right: 0px;
       background-image: url("img/fita-40-600x600.png");
       background-repeat: no-repeat;
       background-position: center;
       background-size: contain;
     }
    .vis-item {
     background-color: #ffffff;
     border-color: #000000;
     color: #000000;
     font-family: DejaVu Sans;
     font-size: 11px;
     font-weight: normal;
    }
    .vis-item.vis-selected {
     background-color: #b4b4b4;
     border-color: #000000;
     color: #000000;
     font-family: Arial;
     font-size: 14px;
     font-weight: normal;
    }
    .vis-time-axis .vis-text {
     font-family: DejaVu Sans;
     color: #000000;
     font-size: 12px;		
     font-weight: normal;
    }
    .vis-timeline.vis-bottom {
     border-style: none;
     width: 100%;
     height: 100px;
    }
    </style>
  </head>
  <body>
    <div id="menu">
      <input type="button" id="zoomIn"    value="Zoom in"/>
      <input type="button" id="zoomOut"   value="Zoom out"/>
      <input type="button" id="moveLeft"  value="Zur&uuml;ck"/>
      <input type="button" id="moveRight" value="Vorw&auml;rts"/>
      <select id="selLocation">   <option value="">Ort</option></select>
      <select id="selDistance">   <option value="">Distanz</option></select>
      <select id="selBow">        <option value="">Bogen</option></select>
    </div>
    <div    id="timeline"></div>
    <div    id="trainingGraphD"><canvas id='trainingGraph'></canvas></div>
    <div    id="rundenInfoD">
    <div    id="rundenGraphD">  <canvas id='rundenGraph'></canvas></div>
    <div    id="rundenInfo"></div>
    </div>
    <div    id="passeInfo"></div>
  </body>
</html>
